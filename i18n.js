const I18N = {
  en: {
    siteTitle: "UnitSwitch âš–ï¸",
    tagline: "Universal Unit Converter",
    home: "Home", length: "Length", weight: "Weight", temperature: "Temperature",
    from: "From", to: "To", swap: "â‡…",
    tipText: "Buy me a coffee â˜•",
    footer: "Made with ðŸ’œ by UnitSwitch",
    // Index
    lengthDesc: "m, km, mi, ft, in, cm, mm, yd",
    weightDesc: "kg, g, lb, oz, ton, æ–¤, ä¸¤",
    tempDesc: "Â°C, Â°F, K with live thermometer",
    // Units
    meter:"Meter",kilometer:"Kilometer",mile:"Mile",foot:"Foot",inch:"Inch",centimeter:"Centimeter",millimeter:"Millimeter",yard:"Yard",
    kilogram:"Kilogram",gram:"Gram",pound:"Pound",ounce:"Ounce",ton:"Metric Ton",jin:"Jin (æ–¤)",liang:"Liang (ä¸¤)",
    celsius:"Celsius (Â°C)",fahrenheit:"Fahrenheit (Â°F)",kelvin:"Kelvin (K)"
  },
  zh: {
    siteTitle: "UnitSwitch âš–ï¸",
    tagline: "ä¸‡èƒ½å•ä½æ¢ç®—å·¥å…·",
    home: "é¦–é¡µ", length: "é•¿åº¦", weight: "é‡é‡", temperature: "æ¸©åº¦",
    from: "ä»Ž", to: "åˆ°", swap: "â‡…",
    tipText: "è¯·æˆ‘å–æ¯å’–å•¡ â˜•",
    footer: "ç”¨ ðŸ’œ åˆ¶ä½œ Â· UnitSwitch",
    lengthDesc: "ç±³ã€åƒç±³ã€è‹±é‡Œã€è‹±å°ºã€è‹±å¯¸ã€åŽ˜ç±³ã€æ¯«ç±³ã€ç ",
    weightDesc: "åƒå…‹ã€å…‹ã€ç£…ã€ç›Žå¸ã€å¨ã€æ–¤ã€ä¸¤",
    tempDesc: "æ‘„æ°ã€åŽæ°ã€å¼€å°”æ–‡ + å®žæ—¶æ¸©åº¦è®¡",
    meter:"ç±³",kilometer:"åƒç±³",mile:"è‹±é‡Œ",foot:"è‹±å°º",inch:"è‹±å¯¸",centimeter:"åŽ˜ç±³",millimeter:"æ¯«ç±³",yard:"ç ",
    kilogram:"åƒå…‹",gram:"å…‹",pound:"ç£…",ounce:"ç›Žå¸",ton:"å…¬å¨",jin:"æ–¤",liang:"ä¸¤",
    celsius:"æ‘„æ° (Â°C)",fahrenheit:"åŽæ° (Â°F)",kelvin:"å¼€å°”æ–‡ (K)"
  },
  ja: {
    siteTitle: "UnitSwitch âš–ï¸",
    tagline: "ä¸‡èƒ½å˜ä½å¤‰æ›ãƒ„ãƒ¼ãƒ«",
    home: "ãƒ›ãƒ¼ãƒ ", length: "é•·ã•", weight: "é‡ã•", temperature: "æ¸©åº¦",
    from: "ã‹ã‚‰", to: "ã¸", swap: "â‡…",
    tipText: "ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’ãŠã”ã£ã¦ â˜•",
    footer: "ðŸ’œã§ä½œã‚Šã¾ã—ãŸ Â· UnitSwitch",
    lengthDesc: "m, km, mi, ft, in, cm, mm, yd",
    weightDesc: "kg, g, lb, oz, ton, æ–¤, ä¸¤",
    tempDesc: "Â°C, Â°F, K ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¸©åº¦è¨ˆä»˜ã",
    meter:"ãƒ¡ãƒ¼ãƒˆãƒ«",kilometer:"ã‚­ãƒ­ãƒ¡ãƒ¼ãƒˆãƒ«",mile:"ãƒžã‚¤ãƒ«",foot:"ãƒ•ã‚£ãƒ¼ãƒˆ",inch:"ã‚¤ãƒ³ãƒ",centimeter:"ã‚»ãƒ³ãƒ",millimeter:"ãƒŸãƒª",yard:"ãƒ¤ãƒ¼ãƒ‰",
    kilogram:"ã‚­ãƒ­ã‚°ãƒ©ãƒ ",gram:"ã‚°ãƒ©ãƒ ",pound:"ãƒãƒ³ãƒ‰",ounce:"ã‚ªãƒ³ã‚¹",ton:"ãƒ¡ãƒˆãƒªãƒƒã‚¯ãƒˆãƒ³",jin:"æ–¤",liang:"ä¸¤",
    celsius:"æ‘‚æ° (Â°C)",fahrenheit:"è¯æ° (Â°F)",kelvin:"ã‚±ãƒ«ãƒ“ãƒ³ (K)"
  },
  ko: {
    siteTitle: "UnitSwitch âš–ï¸",
    tagline: "ë§ŒëŠ¥ ë‹¨ìœ„ ë³€í™˜ê¸°",
    home: "í™ˆ", length: "ê¸¸ì´", weight: "ë¬´ê²Œ", temperature: "ì˜¨ë„",
    from: "ì—ì„œ", to: "ìœ¼ë¡œ", swap: "â‡…",
    tipText: "ì»¤í”¼ í•œìž” ì‚¬ì£¼ì„¸ìš” â˜•",
    footer: "ðŸ’œë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤ Â· UnitSwitch",
    lengthDesc: "m, km, mi, ft, in, cm, mm, yd",
    weightDesc: "kg, g, lb, oz, ton, æ–¤, ä¸¤",
    tempDesc: "Â°C, Â°F, K ì‹¤ì‹œê°„ ì˜¨ë„ê³„ í¬í•¨",
    meter:"ë¯¸í„°",kilometer:"í‚¬ë¡œë¯¸í„°",mile:"ë§ˆì¼",foot:"í”¼íŠ¸",inch:"ì¸ì¹˜",centimeter:"ì„¼í‹°ë¯¸í„°",millimeter:"ë°€ë¦¬ë¯¸í„°",yard:"ì•¼ë“œ",
    kilogram:"í‚¬ë¡œê·¸ëž¨",gram:"ê·¸ëž¨",pound:"íŒŒìš´ë“œ",ounce:"ì˜¨ìŠ¤",ton:"ë©”íŠ¸ë¦­ í†¤",jin:"ì§„ (æ–¤)",liang:"ëŸ‰ (ä¸¤)",
    celsius:"ì„­ì”¨ (Â°C)",fahrenheit:"í™”ì”¨ (Â°F)",kelvin:"ì¼ˆë¹ˆ (K)"
  },
  es: {
    siteTitle: "UnitSwitch âš–ï¸",
    tagline: "Conversor Universal de Unidades",
    home: "Inicio", length: "Longitud", weight: "Peso", temperature: "Temperatura",
    from: "De", to: "A", swap: "â‡…",
    tipText: "InvÃ­tame un cafÃ© â˜•",
    footer: "Hecho con ðŸ’œ por UnitSwitch",
    lengthDesc: "m, km, mi, ft, in, cm, mm, yd",
    weightDesc: "kg, g, lb, oz, ton, æ–¤, ä¸¤",
    tempDesc: "Â°C, Â°F, K con termÃ³metro en vivo",
    meter:"Metro",kilometer:"KilÃ³metro",mile:"Milla",foot:"Pie",inch:"Pulgada",centimeter:"CentÃ­metro",millimeter:"MilÃ­metro",yard:"Yarda",
    kilogram:"Kilogramo",gram:"Gramo",pound:"Libra",ounce:"Onza",ton:"Tonelada mÃ©trica",jin:"Jin (æ–¤)",liang:"Liang (ä¸¤)",
    celsius:"Celsius (Â°C)",fahrenheit:"Fahrenheit (Â°F)",kelvin:"Kelvin (K)"
  }
};

let currentLang = localStorage.getItem('unitswitch-lang') || 'en';

function t(key) { return (I18N[currentLang] || I18N.en)[key] || key; }

function setLang(lang) {
  currentLang = lang;
  localStorage.setItem('unitswitch-lang', lang);
  document.documentElement.lang = lang;
  document.querySelectorAll('[data-i18n]').forEach(el => {
    el.textContent = t(el.dataset.i18n);
  });
  document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
    el.placeholder = t(el.dataset.i18nPlaceholder);
  });
  document.querySelectorAll('option[data-i18n]').forEach(el => {
    el.textContent = t(el.dataset.i18n);
  });
  if (typeof onLangChange === 'function') onLangChange();
}

function initLang() {
  const sel = document.getElementById('langSel');
  if (sel) { sel.value = currentLang; sel.addEventListener('change', e => setLang(e.target.value)); }
  setLang(currentLang);
}

document.addEventListener('DOMContentLoaded', initLang);
